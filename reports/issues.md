# Migration Issues

- STAAR-1: Implement `staar_unrelated_glm` workflow and parity checks. (Resolved)
- STAAR-2: Implement `staar_related_sparse_glmmkin` workflow and parity checks. (Resolved)
- STAAR-3: Implement `staar_related_dense_glmmkin` workflow and parity checks. (Resolved)
- STAAR-4: Implement `staar_unrelated_glm_cond` workflow and parity checks. (Resolved)
- STAAR-5: Implement `staar_related_sparse_glmmkin_cond` workflow and parity checks. (Resolved)
- STAAR-6: Implement `staar_related_dense_glmmkin_cond` workflow and parity checks. (Resolved)
- STAAR-7: Implement `staar_unrelated_binary_spa` workflow and parity checks. (Resolved)
- STAAR-8: Implement `staar_related_sparse_binary_spa` workflow and parity checks. (Resolved)
- STAAR-9: Implement `staar_related_dense_binary_spa` workflow and parity checks. (Resolved)
- STAAR-10: Implement `SPA_p_filter=TRUE` support in `staar_binary_spa` and workflow entry points. (Resolved)
- STAAR-11: Add parity scenario for `staar_unrelated_binary_spa` with `SPA_p_filter=TRUE`. (Resolved)
- STAAR-12: Add parity scenario for `staar_related_sparse_binary_spa` with `SPA_p_filter=TRUE`. (Resolved)
- STAAR-13: Add parity scenario for `staar_related_dense_binary_spa` with `SPA_p_filter=TRUE`. (Resolved)
- STAAR-14: Implement `Indiv_Score_Test_Region` workflow for unrelated samples and parity checks. (Resolved)
- STAAR-15: Implement `Indiv_Score_Test_Region` workflow for related sparse samples and parity checks. (Resolved)
- STAAR-16: Implement `Indiv_Score_Test_Region` workflow for related dense samples and parity checks. (Resolved)
- STAAR-17: Implement `Indiv_Score_Test_Region_cond` workflow for unrelated samples and parity checks. (Resolved)
- STAAR-18: Implement `Indiv_Score_Test_Region_cond` workflow for related sparse samples and parity checks. (Resolved)
- STAAR-19: Implement `Indiv_Score_Test_Region_cond` workflow for related dense samples and parity checks. (Resolved)
- STAAR-20: Implement `AI_STAAR` workflow for unrelated samples and parity checks. (Resolved)
- STAAR-21: Implement `AI_STAAR` workflow for related sparse samples and parity checks. (Resolved)
- STAAR-22: Implement `AI_STAAR` workflow for related dense samples and parity checks. (Resolved)
- STAAR-23: Implement `AI_STAAR(..., find_weight=TRUE)` workflow coverage and parity checks. (Resolved)
- STAAR-24: Implement `AI_STAAR(..., find_weight=TRUE)` workflow for related sparse samples and parity checks. (Resolved)
- STAAR-25: Implement `AI_STAAR(..., find_weight=TRUE)` workflow for related dense samples and parity checks. (Resolved)
- STAAR-26: Add strict parity scenario for `staar_unrelated_glm` with `rare_maf_cutoff=0.01`. (Resolved)
- STAAR-27: Add strict parity scenario for `staar_unrelated_binary_spa` with `case_quantile=0.90`. (Resolved)
- STAAR-28: Add strict parity scenario for `staar_related_sparse_glmmkin` with `rare_maf_cutoff=0.01`. (Resolved)
- STAAR-29: Add strict parity scenario for `staar_related_dense_glmmkin` with `rare_maf_cutoff=0.01`. (Resolved)
- STAAR-30: Generalize workflow dataset resolution beyond `dataset="example"` in `workflows.py`/`data.py`. (Resolved)
- STAAR-31: Generalize null-model API beyond fixed `Y/X1/X2` design assumptions while preserving backward compatibility. (Resolved)
- STAAR-32: Remove related binary SPA workflow restriction to `case_quantile=0.95`. (Resolved)
- STAAR-33: Make AI metadata inputs runtime-configurable (population labels/weights) with `example` file fallback only. (Resolved)
- STAAR-34: Add non-`example` functionality tests for generalized workflow and null-model interfaces. (Resolved)
- STAAR-35: Add related-workflow pure-path parity shadow scenarios (`use_precomputed_artifacts: false`) with explicit blocker tracking where needed. (Resolved; shadow scenarios are now required parity checks with no xfails after `STAAR-42`)
- STAAR-36: Retire related binary-SPA parity fitted-artifact dependency (`example_glmmkin_binary_spa_sparse_fitted.csv`) under strict tolerance checks. (Resolved)
- STAAR-37: Retire related GLMM parity dependencies on precomputed covariance/scaled residual/theta artifacts. (Resolved via approved deviation: removed covariance artifact dependency; baseline related GLMM keeps scaled-residual/theta anchoring and relaxed `results_STAAR_S_1_1` mapping tolerance)
- STAAR-38: Retire related conditional parity dependency on precomputed conditional covariance artifact. (Resolved via approved deviation: related core/indiv conditional paths now compute covariance in Python; baseline related conditional SKAT mapping tolerances relaxed to `rtol=3e-5`)
- STAAR-39: Retire related AI parity dependencies on precomputed AI covariance artifacts. (Resolved via approved deviation: related AI covariance now computed in Python; AI `results_STAAR_S_1_1` and find-weight `results_weight2_staar_o` tolerances relaxed to absorb small backend drift)
- STAAR-40: Remove parity reliance on `use_precomputed_artifacts` in specs/workflow paths after pure-path parity closure. (Resolved via approved deviation: related baseline parity specs now run pure-path with `use_precomputed_artifacts: false`; related tolerance envelope later tightened in `STAAR-42`)
- STAAR-41: Close `DEV-001` with final strict-parity documentation updates and release handoff notes. (Resolved; superseded by `STAAR-42` closure updates that retired `DEV-001` from active gating)
- STAAR-42: Retire `DEV-001` by tightening related-scenario pure-path tolerances and eliminating shadow-scenario xfails. (Resolved; tightened affected related sentinels to `rtol=3.5e-4`, removed shadow `xfail` markers, and established fully passing parity gates on the reference backend)
- STAAR-43: Optimize `staar_unrelated_binary_spa` on reference backend and retain parity gates after each change. (Resolved; median runtime improved from `0.288611s` to `0.161430s`, ~`1.79x` vs Phase 3 baseline; see `benchmarks/phase3_opt_43_44_comparison.csv`)
- STAAR-44: Optimize `ai_staar_unrelated_glm` on reference backend and retain parity gates after each change. (Resolved; median runtime improved from `0.928488s` to `0.856711s`, ~`1.08x` vs Phase 3 baseline; see `benchmarks/phase3_opt_43_44_comparison.csv`)
- STAAR-45: Expand parity/performance coverage beyond `dataset=\"example\"` by adding at least one additional representative scenario family with exported R baselines, scenario specs, and CI parity execution on the reference backend. (Resolved; added non-example parity scenario `specs/staar_unrelated_glm_nonexample_dir.yaml` using runtime directory dataset mode in parity harness, and captured non-example performance probe in `benchmarks/phase3_nonexample_summary.csv` / `reports/performance_nonexample.md`)
- STAAR-46: Optimize `staar_related_sparse_binary_spa` pure path on the reference backend and retain parity gates after each change. (Resolved; median runtime improved from `2.343567s` to `0.909528s`, ~`2.58x` vs post-`STAAR-42` probe baseline; see `benchmarks/phase3_opt_46_comparison.csv`)
- STAAR-47: Add a distinct (non-clone) non-`example` R baseline extraction and matching Python parity scenario family for release gating beyond runtime example-directory copies. (Resolved; extracted `nonexample601` artifacts from `../STAAR` seed-601 simulation baseline, added `specs/staar_unrelated_glm_nonexample601.yaml`, and parity now includes this scenario with fully passing gates)
- STAAR-48: Expand distinct non-`example` R-baseline parity beyond unrelated GLM to at least one related-workflow family (for example sparse GLMMkin or related binary SPA). (Resolved; extracted `baselines/related_sparse_glmmkin_nonexample601_sentinels.json` from `../STAAR` and added parity scenario `specs/staar_related_sparse_glmmkin_nonexample601.yaml`; parity now `49 passed`)
- STAAR-49: Add distinct non-`example` R-baseline parity for at least one additional related workflow family beyond sparse GLMMkin (for example related binary SPA or related conditional GLMMkin). (Resolved; extracted `baselines/related_sparse_binary_spa_nonexample601_sentinels.json` from `../STAAR` and added parity scenario `specs/staar_related_sparse_binary_spa_nonexample601.yaml`; parity now `50 passed`)
- STAAR-50: Add distinct non-`example` R-baseline parity for a related conditional family (for example `staar_related_sparse_glmmkin_cond`) to extend non-`example` coverage beyond core and binary related workflows. (Resolved; extracted `baselines/related_sparse_glmmkin_cond_nonexample601_sentinels.json` from `../STAAR`, added parity scenario `specs/staar_related_sparse_glmmkin_cond_nonexample601.yaml`, and fixed weighted CCT exact-one handling in `src/pystaar/staar_stats.py` for conditional ACAT stability; parity now `51 passed`)
- STAAR-51: Expand distinct non-`example` conditional parity beyond sparse related STAAR to at least one additional conditional family (for example `staar_related_dense_glmmkin_cond` and/or `indiv_score_related_*_glmmkin_cond`). (Open)
